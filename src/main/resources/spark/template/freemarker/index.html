<html>
    <head>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <meta http-equiv="refresh" content="10" >
    </head>
    <body>
        <h1>Twitter Analytics</h1>

        <#list results as result>
            <h2>${result.query}</h2>
            <div id="myDiv${result.query}" style="width: 900px; height: 300px;">
                <!-- Plotly chart will be drawn inside this DIV -->
            </div>
            <script>

                var dates = [<#list result.dates as date>"${date}",</#list>];
                var goodTweets = [<#list result.goodTweets as t>"${t}",</#list>];
                var badTweets = [<#list result.badTweets as t>"${t}",</#list>];

                var data = [
                    {
                        x: dates,
                        y: goodTweets,
                        name: 'positive',
                        type: 'bar'
                    },
                    {
                        x: dates,
                        y: badTweets,
                        name: 'negative',
                        type: 'bar'
                    }
                ];

                Plotly.newPlot('myDiv${result.query}', data, { barmode: 'overlay'});
            </script>
        </#list>
        schedule new query:
        <form action="/jobs/" method="post">
            <input type="text" name="keyword" autofocus="autofocus">
        </form>
    </body>
</html>